# ============================================
# SuperMiniOS Gaming Edition
# Kernel Performance Tuning
# ============================================

# ============================================
# MEMORY MANAGEMENT - Gaming Optimized
# ============================================

# Swappiness: Lower = less swap usage, keep games in RAM
# Default: 60, Gaming: 10
vm.swappiness = 10

# VFS Cache Pressure: Lower = better file caching
# Default: 100, Gaming: 50
vm.vfs_cache_pressure = 50

# Dirty ratio: When to start writing dirty pages
# Higher = more RAM for caching, better for gaming
vm.dirty_ratio = 20
vm.dirty_background_ratio = 5

# Faster dirty page writeback
vm.dirty_writeback_centisecs = 1500

# ============================================
# NETWORK - Low Latency for Online Gaming
# ============================================

# TCP Fast Open - faster connections
net.ipv4.tcp_fastopen = 3

# Reduce TCP latency
net.ipv4.tcp_low_latency = 1

# Better congestion control
net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr

# Increase network buffers
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216

# ============================================
# KERNEL - Responsiveness
# ============================================

# Reduce kernel logging (less overhead)
kernel.printk = 3 3 3 3

# Allow more file handles (for games with many assets)
fs.file-max = 2097152

# Increase inotify watches (for IDEs/coding)
fs.inotify.max_user_watches = 524288
fs.inotify.max_user_instances = 512
